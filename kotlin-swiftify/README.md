# KSwift gradle plugin proof of concept

Here sample of gradle plugin with generation additional Swift code for Kotlin/Native framework to
get the better API than via ObjC bridge.

For example we have in our Kotlin code:
```kotlin
package dev.icerock.moko.mvvm

import platform.UIKit.UILabel

fun UILabel.bind(liveData: LiveData<String>) { ... }
```
This code by default will be available from Swift as:
```swift
import mpp_library

let someLabel: UILabel 
let someLiveData: LiveData<NSString>
LiveDataKt.bind(someLabel, liveData: someLiveData)
```
Kotlin/Native can't add extensions for platform classes, and we got static functions.

With `KSwift` gradle plugin we can generate additional swift code with better API:
```swift
import Foundation
import mpp_library

public extension UIKit.UILabel {
  func bind(liveData: LiveData<NSString>) {
    return LiveDataKt.bind(self, liveData: liveData)
  }
}
```
And with this autogenerated code we can use extensions from kotlin in swift with good api:
```swift
let someLabel: UILabel 
let someLiveData: LiveData<NSString>
someLabel.bind(liveData: someLiveData)
```

## Plans
From this PoC project will be started `moko-kswift` gradle plugin. In plans support:
- extension functions for Native platform classes (already done in PoC);
- automatical generation and compilation of additional framework (or generation of podspec)
- wrappers for lost/broken generics
- Swift enums generation for sealed classes/interfaces of Kotlin
